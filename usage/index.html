
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="Show the inter-dependencies between modules of Python packages." name="description"/>
<link href="https://pawamoy.github.io/dependenpy/usage/" rel="canonical"/>
<link href="../assets/images/favicon.png" rel="shortcut icon"/>
<meta content="mkdocs-1.1.2, mkdocs-material-5.5.12" name="generator"/>
<title>Usage - Dependenpy</title>
<link href="../assets/stylesheets/main.4dd2dd8d.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&amp;display=fallback" rel="stylesheet"/>
<style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
<link href="../css/mkdocstrings.css" rel="stylesheet"/>
</head>
<body dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#usage">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header-nav md-grid">
<a aria-label="Dependenpy" class="md-header-nav__button md-logo" href="https://pawamoy.github.io/dependenpy" title="Dependenpy">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"></path></svg>
</a>
<label class="md-header-nav__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"></path></svg>
</label>
<div class="md-header-nav__title" data-md-component="header-title">
<div class="md-header-nav__ellipsis">
<span class="md-header-nav__topic md-ellipsis">
            Dependenpy
          </span>
<span class="md-header-nav__topic md-ellipsis">
            
              Usage
            
          </span>
</div>
</div>
<label class="md-header-nav__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" data-md-state="active" name="query" placeholder="Search" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</label>
<button aria-label="Clear" class="md-search__icon md-icon" data-md-component="search-reset" tabindex="-1" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>
</button>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header-nav__source">
<a class="md-source" href="https://github.com/pawamoy/dependenpy/" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    pawamoy/dependenpy
  </div>
</a>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="Dependenpy" class="md-nav__button md-logo" href="https://pawamoy.github.io/dependenpy" title="Dependenpy">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"></path></svg>
</a>
    Dependenpy
  </label>
<div class="md-nav__source">
<a class="md-source" href="https://github.com/pawamoy/dependenpy/" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    pawamoy/dependenpy
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href=".." title="Overview">
      Overview
    </a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" data-md-toggle="toc" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
        Usage
        <span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./" title="Usage">
      Usage
    </a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#importing-classes">
    Importing classes
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#creation-of-objects">
    Creation of objects
  </a>
<nav aria-label="Creation of objects" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#create-a-dsm">
    Create a DSM
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#create-a-package">
    Create a Package
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#create-a-module">
    Create a Module
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#create-a-dependency">
    Create a Dependency
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#create-a-matrix">
    Create a Matrix
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#create-a-treemap">
    Create a TreeMap
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#create-a-graph">
    Create a Graph
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#accessing-elements">
    Accessing elements
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#printing-contents">
    Printing contents
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" id="nav-3" type="checkbox"/>
<label class="md-nav__link" for="nav-3">
      API Reference
      <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="API Reference" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="nav-3">
<span class="md-nav__icon md-icon"></span>
        API Reference
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../reference/cli/" title="cli.py">
      cli.py
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../reference/dsm/" title="dsm.py">
      dsm.py
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../reference/finder/" title="finder.py">
      finder.py
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../reference/helpers/" title="helpers.py">
      helpers.py
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../reference/node/" title="node.py">
      node.py
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../reference/plugins/" title="plugins.py">
      plugins.py
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../reference/structures/" title="structures.py">
      structures.py
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../contributing/" title="Contributing">
      Contributing
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../code_of_conduct/" title="Code of Conduct">
      Code of Conduct
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../changelog/" title="Changelog">
      Changelog
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../credits/" title="Credits">
      Credits
    </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#importing-classes">
    Importing classes
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#creation-of-objects">
    Creation of objects
  </a>
<nav aria-label="Creation of objects" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#create-a-dsm">
    Create a DSM
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#create-a-package">
    Create a Package
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#create-a-module">
    Create a Module
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#create-a-dependency">
    Create a Dependency
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#create-a-matrix">
    Create a Matrix
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#create-a-treemap">
    Create a TreeMap
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#create-a-graph">
    Create a Graph
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#accessing-elements">
    Accessing elements
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#printing-contents">
    Printing contents
  </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content">
<article class="md-content__inner md-typeset">
<a class="md-content__button md-icon" href="https://github.com/pawamoy/dependenpy/edit/master/docs/usage.md" title="Edit this page">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"></path></svg>
</a>
<h1 id="usage">Usage<a class="headerlink" href="#usage" title="Permanent link">¤</a></h1>
<h2 id="importing-classes">Importing classes<a class="headerlink" href="#importing-classes" title="Permanent link">¤</a></h2>
<p>You can directly import the following classes from <code>dependenpy</code>:
<code>DSM</code>, <code>Package</code>, <code>Module</code>, <code>Dependency</code>, <code>Matrix</code> and <code>TreeMap</code>.</p>
<p>If you need to import other classes, please take a look at the structure
of the code.</p>
<p>Example:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">dependenpy</span> <span class="kn">import</span> <span class="n">DSM</span><span class="p">,</span> <span class="n">Matrix</span>
</code></pre></div>
<h2 id="creation-of-objects">Creation of objects<a class="headerlink" href="#creation-of-objects" title="Permanent link">¤</a></h2>
<p>For basic usage, you only have to instantiate a <code>DSM</code> object, and
sometimes <code>Matrix</code> and <code>TreeMap</code>. But if you need to do more complicated
stuff, you might also want to build instances of <code>Package</code>, <code>Module</code>
or <code>Dependency</code>.</p>
<h3 id="create-a-dsm">Create a DSM<a class="headerlink" href="#create-a-dsm" title="Permanent link">¤</a></h3>
<p>To create a <code>DSM</code> object, just pass it a list of packages that can be either
found on the disk (absolute or relative paths), or in the Python path (like
in <code>sys.path</code>).</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">dependenpy</span> <span class="kn">import</span> <span class="n">DSM</span>
<span class="n">django</span> <span class="o">=</span> <span class="n">DSM</span><span class="p">(</span><span class="s1">'django'</span><span class="p">)</span>
<span class="n">flask</span> <span class="o">=</span> <span class="n">DSM</span><span class="p">(</span><span class="s1">'flask'</span><span class="p">)</span>
<span class="n">both</span> <span class="o">=</span> <span class="n">DSM</span><span class="p">(</span><span class="s1">'django'</span><span class="p">,</span> <span class="s1">'flask'</span><span class="p">)</span>
</code></pre></div>
<p>Three keyword arguments can be given to <code>DSM</code>:</p>
<ul>
<li><code>build_tree</code>: Boolean</li>
<li><code>build_dependencies</code>: Boolean</li>
<li><code>enforce_init</code>: Boolean</li>
</ul>
<p>The three of them defaults to true.</p>
<p>Turning <code>build_tree</code> to false will delay the build of the Python package
tree (the exploration of files on the file system).
You can later call <code>dsm.build_tree()</code> to build the tree.</p>
<p>Turning <code>build_dependencies</code> to false will delay the build of the
dependencies (the parsing of the source code to determine the
inter-dependencies).
You can later call <code>dsm.build_dependencies()</code> to build the dependencies.
Note that you won't be able to build the dependencies before the tree has
been built.</p>
<p>Using true for both <code>build_tree</code> and <code>build_dependencies</code> is recommended
since it is done pretty quickly, even for big projects like Django.</p>
<p>Turning <code>enforce_init</code> to false will make the exploration of sub-directories
complete: by default, a sub-directory is not explored if it does not contain
an <code>__init__.py</code> file. It makes the building of the tree faster. But in some
cases, you might want to still explore the sub-directory even without
<code>__init__.py</code>. In that case, use <code>enforce_init=False</code>. Note that
depending on the tree, the build might take longer.</p>
<h3 id="create-a-package">Create a Package<a class="headerlink" href="#create-a-package" title="Permanent link">¤</a></h3>
<p>To create a <code>Package</code> object, initialize it with a name and a path.
These two arguments are the only one required. Name should be the name of
the Python package (the name of the directory), and path should be
the path to the directory on the file system.</p>
<p>Example:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">dependenpy</span> <span class="kn">import</span> <span class="n">Package</span>
<span class="n">absolute_package</span> <span class="o">=</span> <span class="n">Package</span><span class="p">(</span><span class="s1">'django'</span><span class="p">,</span> <span class="s1">'/my/virtualenv/lib/python3.5/site-packages/django'</span><span class="p">)</span>
<span class="n">relative_package</span> <span class="o">=</span> <span class="n">Package</span><span class="p">(</span><span class="s1">'program'</span><span class="p">,</span> <span class="s1">'src/program'</span><span class="p">)</span>
</code></pre></div>
<p>Additionally, you can pass 6 more keyword arguments: the same three from
<code>DSM</code> (<code>build_tree</code>, <code>build_dependencies</code> and <code>enforce_init</code>), and
the three following:</p>
<ul>
<li><code>dsm</code>: parent DSM (instance of DSM).</li>
<li><code>package</code>: parent package (instance of Package).</li>
<li><code>limit_to</code>: list of strings to limit the exploration to a subset of
  directories.</li>
</ul>
<p>These three arguments default to <code>None</code>. Both <code>dsm</code> and <code>package</code>
arguments are useful to build a tree.</p>
<p>Argument <code>limit_to</code> can be used this way:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">dependenpy</span> <span class="kn">import</span> <span class="n">Package</span>
<span class="n">django_auth</span> <span class="o">=</span> <span class="n">Package</span><span class="p">(</span><span class="s1">'django'</span><span class="p">,</span> <span class="s1">'path/to/django'</span><span class="p">,</span>
                      <span class="n">limit_to</span><span class="o">=</span><span class="p">[</span><span class="s1">'contrib.auth'</span><span class="p">])</span>
</code></pre></div>
<p>Of course, you could also have build a the <code>django_auth</code> Package by directly
specify the name and path of the sub-directory, but using limit_to allows you
to build the full tree, starting at the root (Django's directory).</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">dependenpy</span> <span class="kn">import</span> <span class="n">Package</span>
<span class="n">django_auth</span> <span class="o">=</span> <span class="n">Package</span><span class="p">(</span><span class="s1">'auth'</span><span class="p">,</span> <span class="s1">'path/to/django/contrib/auth'</span><span class="p">)</span>
</code></pre></div>
<h3 id="create-a-module">Create a Module<a class="headerlink" href="#create-a-module" title="Permanent link">¤</a></h3>
<p>To create a <code>Module</code> object, initialize it with a name and a path.
These two arguments are the only one required. Name should be the name of
the Python module (the file without the <code>.py</code> extension), and path should be
the path to the file on the file system.</p>
<p>As for <code>Package</code>, <code>dsm</code> and <code>package</code> arguments can be passed when
creating a module.</p>
<p>Example:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">dependenpy</span> <span class="kn">import</span> <span class="n">Module</span>
<span class="n">dsm_module</span> <span class="o">=</span> <span class="n">Module</span><span class="p">(</span><span class="s1">'dsm'</span><span class="p">,</span> <span class="s1">'path/to/dependenpy/dsm.py'</span><span class="p">)</span>
</code></pre></div>
<h3 id="create-a-dependency">Create a Dependency<a class="headerlink" href="#create-a-dependency" title="Permanent link">¤</a></h3>
<p>A dependency is a simple object that require:</p>
<ul>
<li><code>source</code>: the <code>Module</code> instance importing the item,</li>
<li><code>lineno</code>: the line number at which the import occurred,</li>
<li><code>target</code>: the <code>Package</code> or <code>Module</code> instance from which the item is imported</li>
<li>and an optional <code>what</code> argument which defaults to None: the name of the
  imported item.</li>
</ul>
<h3 id="create-a-matrix">Create a Matrix<a class="headerlink" href="#create-a-matrix" title="Permanent link">¤</a></h3>
<p>From an instance of <code>DSM</code> or <code>Package</code> called <code>node</code>:</p>
<div class="highlight"><pre><span></span><code><span class="n">matrix</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">as_matrix</span><span class="p">(</span><span class="n">depth</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</code></pre></div>
<p>From a list of nodes (DSMs, packages or modules):</p>
<div class="highlight"><pre><span></span><code><span class="n">matrix</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">(</span><span class="o">*</span><span class="n">node_list</span><span class="p">,</span> <span class="n">depth</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</code></pre></div>
<p>An instance of <code>Matrix</code> has a <code>data</code> attribute, which is a two-dimensions
array of integers, and a <code>keys</code> attribute which is the list of names,
in the same order as rows in data.</p>
<h3 id="create-a-treemap">Create a TreeMap<a class="headerlink" href="#create-a-treemap" title="Permanent link">¤</a></h3>
<p>From an instance of <code>DSM</code> or <code>Package</code> called <code>node</code>:</p>
<div class="highlight"><pre><span></span><code><span class="n">treemap</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">as_treemap</span><span class="p">(</span><span class="n">depth</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</code></pre></div>
<p>From a list of nodes (DSMs, packages or modules):</p>
<div class="highlight"><pre><span></span><code><span class="n">matrix</span> <span class="o">=</span> <span class="n">TreeMap</span><span class="p">(</span><span class="o">*</span><span class="n">node_list</span><span class="p">,</span> <span class="n">depth</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</code></pre></div>
<p>An instance of <code>TreeMap</code> has a <code>data</code> attribute, which is a two-dimensions
array of integers or treemaps, a <code>keys</code> attribute which is the list of names
in the same order as rows in data, and a <code>value</code> attribute which is the
total number of dependencies in the treemap.</p>
<h3 id="create-a-graph">Create a Graph<a class="headerlink" href="#create-a-graph" title="Permanent link">¤</a></h3>
<p>From an instance of <code>DSM</code> or <code>Package</code> called <code>node</code>:</p>
<div class="highlight"><pre><span></span><code><span class="n">graph</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">as_graph</span><span class="p">(</span><span class="n">depth</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</code></pre></div>
<p>From a list of nodes (DSMs, packages or modules):</p>
<div class="highlight"><pre><span></span><code><span class="n">graph</span> <span class="o">=</span> <span class="n">Graph</span><span class="p">(</span><span class="o">*</span><span class="n">node_list</span><span class="p">,</span> <span class="n">depth</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</code></pre></div>
<p>An instance of <code>Graph</code> has a <code>vertices</code> attribute, which is a list of
<code>Vertex</code> instances, and a <code>edges</code> attribute which is list of <code>Edge</code>
instances. See the documentation of <code>Vertex</code> and <code>Edge</code> for more
information.</p>
<h2 id="accessing-elements">Accessing elements<a class="headerlink" href="#accessing-elements" title="Permanent link">¤</a></h2>
<p>Accessing elements in a DSM or a Package is very easy. Just like for a
dictionary, you can use the <code>[]</code> notation to search for a sub-package or
a sub-module. You can also use the <code>get</code> method, which is equivalent to
the brackets accessor, but will return <code>None</code> if the element is not found
whereas brackets accessor will raise a <code>KeyError</code>.</p>
<p>Example:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">dependenpy</span> <span class="kn">import</span> <span class="n">DSM</span>

<span class="n">dsm</span> <span class="o">=</span> <span class="n">DSM</span><span class="p">(</span><span class="s1">'django'</span><span class="p">)</span>  <span class="c1"># full DSM object, containing Django</span>
<span class="n">django</span> <span class="o">=</span> <span class="n">dsm</span><span class="p">[</span><span class="s1">'django'</span><span class="p">]</span>  <span class="c1"># Django Package object</span>
</code></pre></div>
<p>You can use dots in the element name to go further in just one instruction:</p>
<div class="highlight"><pre><span></span><code><span class="n">django_auth</span> <span class="o">=</span> <span class="n">django</span><span class="p">[</span><span class="s1">'contrib.auth'</span><span class="p">]</span>
<span class="n">django_forms_models</span> <span class="o">=</span> <span class="n">dsm</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'django.forms.models'</span><span class="p">)</span>
</code></pre></div>
<p>Of course, accesses can be chained:</p>
<div class="highlight"><pre><span></span><code><span class="n">django_db_models_utils</span> <span class="o">=</span> <span class="n">dsm</span><span class="p">[</span><span class="s1">'django'</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'db'</span><span class="p">)[</span><span class="s1">'models'</span><span class="p">][</span><span class="s1">'utils'</span><span class="p">]</span>
</code></pre></div>
<h2 id="printing-contents">Printing contents<a class="headerlink" href="#printing-contents" title="Permanent link">¤</a></h2>
<p>Contents of DSMs, packages, modules, matrices, treemaps and graphs can be printed
with their <code>print</code> method. The contents printed are the dependencies.
With some exception, each one of them can output contents in three different formats:</p>
<ul>
<li>text (by default)</li>
<li>CSV</li>
<li>JSON</li>
</ul>
<p>(Currently, treemaps are not implemented, and graphs can only be printed in
JSON or CSV.)</p>
<p>To choose one of these format, just pass the <code>format</code> argument, which accepts
values <code>'text'</code>, <code>'csv'</code> and <code>'json'</code>. Please note that these values
can be replaced by constants imported from <code>dependenpy.helpers</code>
module:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">dependenpy</span> <span class="kn">import</span> <span class="n">DSM</span>
<span class="kn">from</span> <span class="nn">dependenpy.helpers</span> <span class="kn">import</span> <span class="n">TEXT</span><span class="p">,</span> <span class="n">CSV</span><span class="p">,</span> <span class="n">JSON</span>

<span class="n">dsm</span> <span class="o">=</span> <span class="n">DSM</span><span class="p">(</span><span class="s1">'django'</span><span class="p">)</span>
<span class="n">dsm</span><span class="o">.</span><span class="n">print</span><span class="p">(</span><span class="nb">format</span><span class="o">=</span><span class="n">JSON</span><span class="p">)</span>
</code></pre></div>
<p>Depending on the chosen format, additional keyword arguments can be passed
to the print method:</p>
<ul>
<li>text format: <code>indent</code>, indentation value (integer)</li>
<li>CSV format: <code>header</code>, True or False, to display the headers (columns names)</li>
<li>JSON format: every arguments accepted by <code>json.dumps</code>, and in the case
  of a <code>Module</code> instance, <code>absolute</code> Boolean to switch between output
  of absolute and relative paths.</li>
</ul>
<p>For <code>DSM</code> and <code>Package</code> instances, shortcuts to print a matrix, a treemap
or a graph are available with <code>print_matrix</code>, <code>print_treemap</code> and
<code>print_graph</code> methods.
These methods will first create the related object and then call
the object's own <code>print</code> method.</p>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-nav">
<nav aria-label="Footer" class="md-footer-nav__inner md-grid">
<a class="md-footer-nav__link md-footer-nav__link--prev" href=".." rel="prev" title="Overview">
<div class="md-footer-nav__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</div>
<div class="md-footer-nav__title">
<div class="md-ellipsis">
<span class="md-footer-nav__direction">
                  Previous
                </span>
                Overview
              </div>
</div>
</a>
<a class="md-footer-nav__link md-footer-nav__link--next" href="../reference/cli/" rel="next" title="cli.py">
<div class="md-footer-nav__title">
<div class="md-ellipsis">
<span class="md-footer-nav__direction">
                  Next
                </span>
                cli.py
              </div>
</div>
<div class="md-footer-nav__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"></path></svg>
</div>
</a>
</nav>
</div>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
          Material for MkDocs
        </a>
</div>
</div>
</div>
</footer>
</div>
<script src="../assets/javascripts/vendor.3636a4ec.min.js"></script>
<script src="../assets/javascripts/bundle.e9fe3281.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
<script>
        app = initialize({
          base: "..",
          features: [],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
</body>
</html>