
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="Show the inter-dependencies between modules of Python packages." name="description"/>
<link href="https://pawamoy.github.io/dependenpy/reference/dsm/" rel="canonical"/>
<link href="../../assets/images/favicon.png" rel="shortcut icon"/>
<meta content="mkdocs-1.1.2, mkdocs-material-5.5.12" name="generator"/>
<title>dsm.py - Dependenpy</title>
<link href="../../assets/stylesheets/main.4dd2dd8d.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&amp;display=fallback" rel="stylesheet"/>
<style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
<link href="../../css/mkdocstrings.css" rel="stylesheet"/>
</head>
<body dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#dependenpy.dsm">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header-nav md-grid">
<a aria-label="Dependenpy" class="md-header-nav__button md-logo" href="https://pawamoy.github.io/dependenpy" title="Dependenpy">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"></path></svg>
</a>
<label class="md-header-nav__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"></path></svg>
</label>
<div class="md-header-nav__title" data-md-component="header-title">
<div class="md-header-nav__ellipsis">
<span class="md-header-nav__topic md-ellipsis">
            Dependenpy
          </span>
<span class="md-header-nav__topic md-ellipsis">
            
              dsm.py
            
          </span>
</div>
</div>
<label class="md-header-nav__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" data-md-state="active" name="query" placeholder="Search" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</label>
<button aria-label="Clear" class="md-search__icon md-icon" data-md-component="search-reset" tabindex="-1" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>
</button>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header-nav__source">
<a class="md-source" href="https://github.com/pawamoy/dependenpy/" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    pawamoy/dependenpy
  </div>
</a>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="Dependenpy" class="md-nav__button md-logo" href="https://pawamoy.github.io/dependenpy" title="Dependenpy">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"></path></svg>
</a>
    Dependenpy
  </label>
<div class="md-nav__source">
<a class="md-source" href="https://github.com/pawamoy/dependenpy/" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    pawamoy/dependenpy
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../.." title="Overview">
      Overview
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../usage/" title="Usage">
      Usage
    </a>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="nav-3" id="nav-3" type="checkbox"/>
<label class="md-nav__link" for="nav-3">
      API Reference
      <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="API Reference" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="nav-3">
<span class="md-nav__icon md-icon"></span>
        API Reference
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../cli/" title="cli.py">
      cli.py
    </a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" data-md-toggle="toc" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
        dsm.py
        <span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./" title="dsm.py">
      dsm.py
    </a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#dependenpy.dsm">
    dependenpy.dsm
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#dependenpy.dsm.Dependency">
    Dependency
  </a>
<nav aria-label="Dependency" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#dependenpy.dsm.Dependency.external">
    external
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#dependenpy.dsm.Dependency.__init__">
    __init__()
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#dependenpy.dsm.DSM">
    DSM
  </a>
<nav aria-label="DSM" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#dependenpy.dsm.DSM.isdsm">
    isdsm
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#dependenpy.dsm.DSM.__init__">
    __init__()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#dependenpy.dsm.DSM.build_tree">
    build_tree()
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#dependenpy.dsm.Module">
    Module
  </a>
<nav aria-label="Module" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#dependenpy.dsm.Module.ismodule">
    ismodule
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#dependenpy.dsm.Module.__contains__">
    __contains__()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#dependenpy.dsm.Module.__init__">
    __init__()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#dependenpy.dsm.Module.as_dict">
    as_dict()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#dependenpy.dsm.Module.build_dependencies">
    build_dependencies()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#dependenpy.dsm.Module.cardinal">
    cardinal()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#dependenpy.dsm.Module.get_imports">
    get_imports()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#dependenpy.dsm.Module.parse_code">
    parse_code()
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#dependenpy.dsm.Package">
    Package
  </a>
<nav aria-label="Package" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#dependenpy.dsm.Package.ispackage">
    ispackage
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#dependenpy.dsm.Package.isroot">
    isroot
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#dependenpy.dsm.Package.issubpackage">
    issubpackage
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#dependenpy.dsm.Package.__init__">
    __init__()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#dependenpy.dsm.Package.build_tree">
    build_tree()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#dependenpy.dsm.Package.cardinal">
    cardinal()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#dependenpy.dsm.Package.split_limits_heads">
    split_limits_heads()
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../finder/" title="finder.py">
      finder.py
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../helpers/" title="helpers.py">
      helpers.py
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../node/" title="node.py">
      node.py
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../plugins/" title="plugins.py">
      plugins.py
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../structures/" title="structures.py">
      structures.py
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../contributing/" title="Contributing">
      Contributing
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../code_of_conduct/" title="Code of Conduct">
      Code of Conduct
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../changelog/" title="Changelog">
      Changelog
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../credits/" title="Credits">
      Credits
    </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#dependenpy.dsm">
    dependenpy.dsm
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#dependenpy.dsm.Dependency">
    Dependency
  </a>
<nav aria-label="Dependency" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#dependenpy.dsm.Dependency.external">
    external
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#dependenpy.dsm.Dependency.__init__">
    __init__()
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#dependenpy.dsm.DSM">
    DSM
  </a>
<nav aria-label="DSM" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#dependenpy.dsm.DSM.isdsm">
    isdsm
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#dependenpy.dsm.DSM.__init__">
    __init__()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#dependenpy.dsm.DSM.build_tree">
    build_tree()
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#dependenpy.dsm.Module">
    Module
  </a>
<nav aria-label="Module" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#dependenpy.dsm.Module.ismodule">
    ismodule
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#dependenpy.dsm.Module.__contains__">
    __contains__()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#dependenpy.dsm.Module.__init__">
    __init__()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#dependenpy.dsm.Module.as_dict">
    as_dict()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#dependenpy.dsm.Module.build_dependencies">
    build_dependencies()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#dependenpy.dsm.Module.cardinal">
    cardinal()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#dependenpy.dsm.Module.get_imports">
    get_imports()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#dependenpy.dsm.Module.parse_code">
    parse_code()
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#dependenpy.dsm.Package">
    Package
  </a>
<nav aria-label="Package" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#dependenpy.dsm.Package.ispackage">
    ispackage
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#dependenpy.dsm.Package.isroot">
    isroot
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#dependenpy.dsm.Package.issubpackage">
    issubpackage
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#dependenpy.dsm.Package.__init__">
    __init__()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#dependenpy.dsm.Package.build_tree">
    build_tree()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#dependenpy.dsm.Package.cardinal">
    cardinal()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#dependenpy.dsm.Package.split_limits_heads">
    split_limits_heads()
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content">
<article class="md-content__inner md-typeset">
<a class="md-content__button md-icon" href="https://github.com/pawamoy/dependenpy/edit/master/docs/reference/dsm.md" title="Edit this page">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"></path></svg>
</a>
<h1>dsm.py</h1>
<div class="doc doc-object doc-module">
<h2 class="hidden-toc" href="#dependenpy.dsm" id="dependenpy.dsm" style="visibility: hidden; width: 0; height: 0;">
<a class="headerlink" href="#dependenpy.dsm" title="Permanent link">¤</a></h2>
<div class="doc doc-contents first">
<p>dependenpy dsm module.</p>
<p>This is the core module of dependenpy. It contains the following classes:</p>
<ul>
<li>:class:<code>DSM</code>: to create a DSM-capable object for a list of packages,</li>
<li>:class:<code>Package</code>: which represents a Python package,</li>
<li>:class:<code>Module</code>: which represents a Python module,</li>
<li>:class:<code>Dependency</code>: which represents a dependency between two modules.</li>
</ul>
<div class="doc doc-children">
<div class="doc doc-object doc-class">
<h2 class="doc doc-heading" id="dependenpy.dsm.Dependency">
<code>Dependency</code>
<a class="headerlink" href="#dependenpy.dsm.Dependency" title="Permanent link">¤</a></h2>
<div class="doc doc-contents">
<p>Dependency class.</p>
<p>Represent a dependency from a module to another.</p>
<div class="doc doc-children">
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="dependenpy.dsm.Dependency.external">
<code class="highlight">
external        </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-property"><code>property</code></small>
<small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
</span>
<a class="headerlink" href="#dependenpy.dsm.Dependency.external" title="Permanent link">¤</a></h3>
<div class="doc doc-contents">
<p>Property to tell if the dependency's target is a valid node.</p>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="dependenpy.dsm.Dependency.__init__">
<code class="highlight language-python">
__init__<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">source</span><span class="p">,</span> <span class="n">lineno</span><span class="p">,</span> <span class="n">target</span><span class="p">,</span> <span class="n">what</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-special"><code>special</code></small>
</span>
<a class="headerlink" href="#dependenpy.dsm.Dependency.__init__" title="Permanent link">¤</a></h3>
<div class="doc doc-contents">
<p>Initialization method.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>source</code></td>
<td><code>Module</code></td>
<td>
<p>source Module.</p>
</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>lineno</code></td>
<td><code>int</code></td>
<td>
<p>number of line at which import statement occurs.</p>
</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>target</code></td>
<td><code>str/Module/Package</code></td>
<td>
<p>the target node.</p>
</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>what</code></td>
<td><code>str</code></td>
<td>
<p>what is imported (optional).</p>
</td>
<td><code>None</code></td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>dependenpy/dsm.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>420
421
422
423
424
425
426
427
428
429
430
431
432
433</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">source</span><span class="p">,</span> <span class="n">lineno</span><span class="p">,</span> <span class="n">target</span><span class="p">,</span> <span class="n">what</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Initialization method.</span>

<span class="sd">    Args:</span>
<span class="sd">        source (Module): source Module.</span>
<span class="sd">        lineno (int): number of line at which import statement occurs.</span>
<span class="sd">        target (str/Module/Package): the target node.</span>
<span class="sd">        what (str): what is imported (optional).</span>
<span class="sd">    """</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">source</span> <span class="o">=</span> <span class="n">source</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">lineno</span> <span class="o">=</span> <span class="n">lineno</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">target</span> <span class="o">=</span> <span class="n">target</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">what</span> <span class="o">=</span> <span class="n">what</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
</div>
</div>
</div>
<div class="doc doc-object doc-class">
<h2 class="doc doc-heading" id="dependenpy.dsm.DSM">
<code>DSM</code>
<a class="headerlink" href="#dependenpy.dsm.DSM" title="Permanent link">¤</a></h2>
<div class="doc doc-contents">
<p>DSM-capable class.</p>
<p>Technically speaking, a DSM instance is not a real DSM but more a tree
representing the Python packages structure. However, it has the
necessary methods to build a real DSM in the form of a square matrix,
a dictionary or a tree-map.</p>
<div class="doc doc-children">
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="dependenpy.dsm.DSM.isdsm">
<code class="highlight">
isdsm        </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-property"><code>property</code></small>
<small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
</span>
<a class="headerlink" href="#dependenpy.dsm.DSM.isdsm" title="Permanent link">¤</a></h3>
<div class="doc doc-contents">
<p>Inherited from NodeMixin. Always True.</p>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="dependenpy.dsm.DSM.__init__">
<code class="highlight language-python">
__init__<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">packages</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">build_tree</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">build_dependencies</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">enforce_init</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-special"><code>special</code></small>
</span>
<a class="headerlink" href="#dependenpy.dsm.DSM.__init__" title="Permanent link">¤</a></h3>
<div class="doc doc-contents">
<p>Initialization method.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>*packages</code></td>
<td><code>args</code></td>
<td>
<p>list of packages to search for.</p>
</td>
<td><code>()</code></td>
</tr>
<tr>
<td><code>build_tree</code></td>
<td><code>bool</code></td>
<td>
<p>auto-build the tree or not.</p>
</td>
<td><code>True</code></td>
</tr>
<tr>
<td><code>build_dependencies</code></td>
<td><code>bool</code></td>
<td>
<p>auto-build the dependencies or not.</p>
</td>
<td><code>True</code></td>
</tr>
<tr>
<td><code>enforce_init</code></td>
<td><code>bool</code></td>
<td>
<p>if True, only treat directories if they contain an
<code>__init__.py</code> file.</p>
</td>
<td><code>True</code></td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>dependenpy/dsm.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">packages</span><span class="p">,</span> <span class="n">build_tree</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">build_dependencies</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">enforce_init</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Initialization method.</span>

<span class="sd">    Args:</span>
<span class="sd">        *packages (args): list of packages to search for.</span>
<span class="sd">        build_tree (bool): auto-build the tree or not.</span>
<span class="sd">        build_dependencies (bool): auto-build the dependencies or not.</span>
<span class="sd">        enforce_init (bool):</span>
<span class="sd">            if True, only treat directories if they contain an</span>
<span class="sd">            ``__init__.py`` file.</span>
<span class="sd">    """</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">finder</span> <span class="o">=</span> <span class="n">Finder</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">specs</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">not_found</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">enforce_init</span> <span class="o">=</span> <span class="n">enforce_init</span>

    <span class="n">specs</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">package</span> <span class="ow">in</span> <span class="n">packages</span><span class="p">:</span>
        <span class="n">spec</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">finder</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">package</span><span class="p">,</span> <span class="n">enforce_init</span><span class="o">=</span><span class="n">enforce_init</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">spec</span><span class="p">:</span>
            <span class="n">specs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">spec</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">not_found</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">package</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">specs</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">"** dependenpy: DSM empty."</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">specs</span> <span class="o">=</span> <span class="n">PackageSpec</span><span class="o">.</span><span class="n">combine</span><span class="p">(</span><span class="n">specs</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">not_found</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">"** dependenpy: Not found: </span><span class="si">%s</span><span class="s2">."</span> <span class="o">%</span> <span class="n">m</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">)</span>

    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">build_tree</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">build_tree</span> <span class="ow">and</span> <span class="n">build_dependencies</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">build_dependencies</span><span class="p">()</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="dependenpy.dsm.DSM.build_tree">
<code class="highlight language-python">
build_tree<span class="p">(</span><span class="bp">self</span><span class="p">)</span> </code>
<a class="headerlink" href="#dependenpy.dsm.DSM.build_tree" title="Permanent link">¤</a></h3>
<div class="doc doc-contents">
<p>Build the Python packages tree.</p>
<details class="quote">
<summary>Source code in <code>dependenpy/dsm.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">build_tree</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">"""Build the Python packages tree."""</span>
    <span class="k">for</span> <span class="n">spec</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">specs</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">spec</span><span class="o">.</span><span class="n">ismodule</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">modules</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Module</span><span class="p">(</span><span class="n">spec</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">spec</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="n">dsm</span><span class="o">=</span><span class="bp">self</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">packages</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="n">Package</span><span class="p">(</span>
                    <span class="n">spec</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                    <span class="n">spec</span><span class="o">.</span><span class="n">path</span><span class="p">,</span>
                    <span class="n">dsm</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span>
                    <span class="n">limit_to</span><span class="o">=</span><span class="n">spec</span><span class="o">.</span><span class="n">limit_to</span><span class="p">,</span>
                    <span class="n">build_tree</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                    <span class="n">build_dependencies</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                    <span class="n">enforce_init</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">enforce_init</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="p">)</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
</div>
</div>
</div>
<div class="doc doc-object doc-class">
<h2 class="doc doc-heading" id="dependenpy.dsm.Module">
<code>Module</code>
<a class="headerlink" href="#dependenpy.dsm.Module" title="Permanent link">¤</a></h2>
<div class="doc doc-contents">
<p>Module class.</p>
<p>This class represents a Python module (a Python file).</p>
<div class="doc doc-children">
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="dependenpy.dsm.Module.ismodule">
<code class="highlight">
ismodule        </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-property"><code>property</code></small>
<small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
</span>
<a class="headerlink" href="#dependenpy.dsm.Module.ismodule" title="Permanent link">¤</a></h3>
<div class="doc doc-contents">
<p>Inherited from NodeMixin. Always True.</p>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="dependenpy.dsm.Module.__contains__">
<code class="highlight language-python">
__contains__<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-special"><code>special</code></small>
</span>
<a class="headerlink" href="#dependenpy.dsm.Module.__contains__" title="Permanent link">¤</a></h3>
<div class="doc doc-contents">
<p>Whether given item is contained inside this module.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>item</code></td>
<td><code>Package/Module</code></td>
<td>
<p>a package or module.</p>
</td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>bool</code></td>
<td>
<p>True if self is item or item is self's package and
    self if an <code>__init__</code> module.</p>
</td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>dependenpy/dsm.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="fm">__contains__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Whether given item is contained inside this module.</span>

<span class="sd">    Args:</span>
<span class="sd">        item (Package/Module): a package or module.</span>

<span class="sd">    Returns:</span>
<span class="sd">        bool:</span>
<span class="sd">            True if self is item or item is self's package and</span>
<span class="sd">            self if an ``__init__`` module.</span>
<span class="sd">    """</span>
    <span class="k">if</span> <span class="bp">self</span> <span class="ow">is</span> <span class="n">item</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">package</span> <span class="ow">is</span> <span class="n">item</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s2">"__init__"</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="kc">False</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="dependenpy.dsm.Module.__init__">
<code class="highlight language-python">
__init__<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">dsm</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">package</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-special"><code>special</code></small>
</span>
<a class="headerlink" href="#dependenpy.dsm.Module.__init__" title="Permanent link">¤</a></h3>
<div class="doc doc-contents">
<p>Initialization method.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>name</code></td>
<td><code>str</code></td>
<td>
<p>name of the module.</p>
</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>path</code></td>
<td><code>str</code></td>
<td>
<p>path to the module.</p>
</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>dsm</code></td>
<td><code>DSM</code></td>
<td>
<p>parent DSM.</p>
</td>
<td><code>None</code></td>
</tr>
<tr>
<td><code>package</code></td>
<td><code>Package</code></td>
<td>
<p>parent Package.</p>
</td>
<td><code>None</code></td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>dependenpy/dsm.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">dsm</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">package</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Initialization method.</span>

<span class="sd">    Args:</span>
<span class="sd">        name (str): name of the module.</span>
<span class="sd">        path (str): path to the module.</span>
<span class="sd">        dsm (DSM): parent DSM.</span>
<span class="sd">        package (Package): parent Package.</span>
<span class="sd">    """</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">path</span> <span class="o">=</span> <span class="n">path</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">package</span> <span class="o">=</span> <span class="n">package</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">dsm</span> <span class="o">=</span> <span class="n">dsm</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">dependencies</span> <span class="o">=</span> <span class="p">[]</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="dependenpy.dsm.Module.as_dict">
<code class="highlight language-python">
as_dict<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">absolute</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> </code>
<a class="headerlink" href="#dependenpy.dsm.Module.as_dict" title="Permanent link">¤</a></h3>
<div class="doc doc-contents">
<p>Return the dependencies as a dictionary.</p>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>dict</code></td>
<td>
<p>dictionary of dependencies.</p>
</td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>dependenpy/dsm.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">as_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">absolute</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Return the dependencies as a dictionary.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: dictionary of dependencies.</span>
<span class="sd">    """</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">"name"</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">absolute_name</span><span class="p">()</span> <span class="k">if</span> <span class="n">absolute</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="s2">"path"</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="p">,</span>
        <span class="s2">"dependencies"</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="c1"># 'source': d.source.absolute_name(),  # redundant</span>
                <span class="s2">"target"</span><span class="p">:</span> <span class="n">d</span><span class="o">.</span><span class="n">target</span> <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">external</span> <span class="k">else</span> <span class="n">d</span><span class="o">.</span><span class="n">target</span><span class="o">.</span><span class="n">absolute_name</span><span class="p">(),</span>
                <span class="s2">"lineno"</span><span class="p">:</span> <span class="n">d</span><span class="o">.</span><span class="n">lineno</span><span class="p">,</span>
                <span class="s2">"what"</span><span class="p">:</span> <span class="n">d</span><span class="o">.</span><span class="n">what</span><span class="p">,</span>
                <span class="s2">"external"</span><span class="p">:</span> <span class="n">d</span><span class="o">.</span><span class="n">external</span><span class="p">,</span>
            <span class="p">}</span>
            <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dependencies</span>
        <span class="p">],</span>
    <span class="p">}</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="dependenpy.dsm.Module.build_dependencies">
<code class="highlight language-python">
build_dependencies<span class="p">(</span><span class="bp">self</span><span class="p">)</span> </code>
<a class="headerlink" href="#dependenpy.dsm.Module.build_dependencies" title="Permanent link">¤</a></h3>
<div class="doc doc-contents">
<p>Build the dependencies for this module.</p>
<p>Parse the code with ast, find all the import statements, convert
them into Dependency objects.</p>
<details class="quote">
<summary>Source code in <code>dependenpy/dsm.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">build_dependencies</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Build the dependencies for this module.</span>

<span class="sd">    Parse the code with ast, find all the import statements, convert</span>
<span class="sd">    them into Dependency objects.</span>
<span class="sd">    """</span>
    <span class="n">highest</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dsm</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">root</span>
    <span class="k">if</span> <span class="bp">self</span> <span class="ow">is</span> <span class="n">highest</span><span class="p">:</span>
        <span class="n">highest</span> <span class="o">=</span> <span class="n">LeafNode</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">_import</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse_code</span><span class="p">():</span>
        <span class="n">target</span> <span class="o">=</span> <span class="n">highest</span><span class="o">.</span><span class="n">get_target</span><span class="p">(</span><span class="n">_import</span><span class="p">[</span><span class="s2">"target"</span><span class="p">])</span>
        <span class="k">if</span> <span class="n">target</span><span class="p">:</span>
            <span class="n">what</span> <span class="o">=</span> <span class="n">_import</span><span class="p">[</span><span class="s2">"target"</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">"."</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">what</span> <span class="o">!=</span> <span class="n">target</span><span class="o">.</span><span class="n">name</span><span class="p">:</span>
                <span class="n">_import</span><span class="p">[</span><span class="s2">"what"</span><span class="p">]</span> <span class="o">=</span> <span class="n">what</span>
            <span class="n">_import</span><span class="p">[</span><span class="s2">"target"</span><span class="p">]</span> <span class="o">=</span> <span class="n">target</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dependencies</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Dependency</span><span class="p">(</span><span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">_import</span><span class="p">))</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="dependenpy.dsm.Module.cardinal">
<code class="highlight language-python">
cardinal<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">to</span><span class="p">)</span> </code>
<a class="headerlink" href="#dependenpy.dsm.Module.cardinal" title="Permanent link">¤</a></h3>
<div class="doc doc-contents">
<p>Return the number of dependencies of this module to the given node.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>to</code></td>
<td><code>Package/Module</code></td>
<td>
<p>the target node.</p>
</td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>int</code></td>
<td>
<p>number of dependencies.</p>
</td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>dependenpy/dsm.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>400
401
402
403
404
405
406
407
408
409
410</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">cardinal</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">to</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Return the number of dependencies of this module to the given node.</span>

<span class="sd">    Args:</span>
<span class="sd">        to (Package/Module): the target node.</span>

<span class="sd">    Returns:</span>
<span class="sd">        int: number of dependencies.</span>
<span class="sd">    """</span>
    <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="mi">1</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">d</span><span class="p">:</span> <span class="ow">not</span> <span class="n">d</span><span class="o">.</span><span class="n">external</span> <span class="ow">and</span> <span class="n">d</span><span class="o">.</span><span class="n">target</span> <span class="ow">in</span> <span class="n">to</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dependencies</span><span class="p">))</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="dependenpy.dsm.Module.get_imports">
<code class="highlight language-python">
get_imports<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ast_body</span><span class="p">)</span> </code>
<a class="headerlink" href="#dependenpy.dsm.Module.get_imports" title="Permanent link">¤</a></h3>
<div class="doc doc-contents">
<p>Return all the import statements given an AST body (AST nodes).</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ast_body</code></td>
<td><code>compiled code's body</code></td>
<td>
<p>the body to filter.</p>
</td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>list of dict</code></td>
<td>
<p>the import statements.</p>
</td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>dependenpy/dsm.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">get_imports</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ast_body</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Return all the import statements given an AST body (AST nodes).</span>

<span class="sd">    Args:</span>
<span class="sd">        ast_body (compiled code's body): the body to filter.</span>

<span class="sd">    Returns:</span>
<span class="sd">        list of dict: the import statements.</span>
<span class="sd">    """</span>
    <span class="n">imports</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">ast_body</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">ast</span><span class="o">.</span><span class="n">Import</span><span class="p">):</span>
            <span class="n">imports</span><span class="o">.</span><span class="n">extend</span><span class="p">({</span><span class="s2">"target"</span><span class="p">:</span> <span class="n">name</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s2">"lineno"</span><span class="p">:</span> <span class="n">node</span><span class="o">.</span><span class="n">lineno</span><span class="p">}</span> <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">node</span><span class="o">.</span><span class="n">names</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">ast</span><span class="o">.</span><span class="n">ImportFrom</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">node</span><span class="o">.</span><span class="n">names</span><span class="p">:</span>
                <span class="n">name</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">absolute_name</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">depth</span> <span class="o">-</span> <span class="n">node</span><span class="o">.</span><span class="n">level</span><span class="p">)</span> <span class="o">+</span> <span class="s2">"."</span> <span class="k">if</span> <span class="n">node</span><span class="o">.</span><span class="n">level</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="s2">""</span><span class="p">)</span>
                    <span class="o">+</span> <span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">module</span> <span class="o">+</span> <span class="s2">"."</span> <span class="k">if</span> <span class="n">node</span><span class="o">.</span><span class="n">module</span> <span class="k">else</span> <span class="s2">""</span><span class="p">)</span>
                    <span class="o">+</span> <span class="n">name</span><span class="o">.</span><span class="n">name</span>
                <span class="p">)</span>
                <span class="n">imports</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s2">"target"</span><span class="p">:</span> <span class="n">name</span><span class="p">,</span> <span class="s2">"lineno"</span><span class="p">:</span> <span class="n">node</span><span class="o">.</span><span class="n">lineno</span><span class="p">})</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">Module</span><span class="o">.</span><span class="n">RECURSIVE_NODES</span><span class="p">):</span>
            <span class="n">imports</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_imports</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">body</span><span class="p">))</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">ast</span><span class="o">.</span><span class="n">Try</span><span class="p">):</span>
                <span class="n">imports</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_imports</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">finalbody</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">imports</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="dependenpy.dsm.Module.parse_code">
<code class="highlight language-python">
parse_code<span class="p">(</span><span class="bp">self</span><span class="p">)</span> </code>
<a class="headerlink" href="#dependenpy.dsm.Module.parse_code" title="Permanent link">¤</a></h3>
<div class="doc doc-contents">
<p>Read the source code and return all the import statements.</p>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>list of dict</code></td>
<td>
<p>the import statements.</p>
</td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>dependenpy/dsm.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">parse_code</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Read the source code and return all the import statements.</span>

<span class="sd">    Returns:</span>
<span class="sd">        list of dict: the import statements.</span>
<span class="sd">    """</span>
    <span class="n">code</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">"utf-8"</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">body</span> <span class="o">=</span> <span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">code</span><span class="p">)</span><span class="o">.</span><span class="n">body</span>
    <span class="k">except</span> <span class="ne">SyntaxError</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">code</span> <span class="o">=</span> <span class="n">code</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">"utf-8"</span><span class="p">)</span>
            <span class="n">body</span> <span class="o">=</span> <span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">code</span><span class="p">)</span><span class="o">.</span><span class="n">body</span>
        <span class="k">except</span> <span class="ne">SyntaxError</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[]</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_imports</span><span class="p">(</span><span class="n">body</span><span class="p">)</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
</div>
</div>
</div>
<div class="doc doc-object doc-class">
<h2 class="doc doc-heading" id="dependenpy.dsm.Package">
<code>Package</code>
<a class="headerlink" href="#dependenpy.dsm.Package" title="Permanent link">¤</a></h2>
<div class="doc doc-contents">
<p>Package class.</p>
<p>This class represent Python packages as nodes in a tree.</p>
<div class="doc doc-children">
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="dependenpy.dsm.Package.ispackage">
<code class="highlight">
ispackage        </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-property"><code>property</code></small>
<small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
</span>
<a class="headerlink" href="#dependenpy.dsm.Package.ispackage" title="Permanent link">¤</a></h3>
<div class="doc doc-contents">
<p>Inherited from NodeMixin. Always True.</p>
</div>
</div>
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="dependenpy.dsm.Package.isroot">
<code class="highlight">
isroot        </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-property"><code>property</code></small>
<small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
</span>
<a class="headerlink" href="#dependenpy.dsm.Package.isroot" title="Permanent link">¤</a></h3>
<div class="doc doc-contents">
<p>Property to tell if this node is a root node.</p>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>bool</code></td>
<td>
<p>this package has no parent.</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="dependenpy.dsm.Package.issubpackage">
<code class="highlight">
issubpackage        </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-property"><code>property</code></small>
<small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
</span>
<a class="headerlink" href="#dependenpy.dsm.Package.issubpackage" title="Permanent link">¤</a></h3>
<div class="doc doc-contents">
<p>Property to tell if this node is a sub-package.</p>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>bool</code></td>
<td>
<p>this package has a parent.</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="dependenpy.dsm.Package.__init__">
<code class="highlight language-python">
__init__<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">dsm</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">package</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">limit_to</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">build_tree</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">build_dependencies</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">enforce_init</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-special"><code>special</code></small>
</span>
<a class="headerlink" href="#dependenpy.dsm.Package.__init__" title="Permanent link">¤</a></h3>
<div class="doc doc-contents">
<p>Initialization method.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>name</code></td>
<td><code>str</code></td>
<td>
<p>name of the package.</p>
</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>path</code></td>
<td><code>str</code></td>
<td>
<p>path to the package.</p>
</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>dsm</code></td>
<td><code>DSM</code></td>
<td>
<p>parent DSM.</p>
</td>
<td><code>None</code></td>
</tr>
<tr>
<td><code>package</code></td>
<td><code>Package</code></td>
<td>
<p>parent package.</p>
</td>
<td><code>None</code></td>
</tr>
<tr>
<td><code>limit_to</code></td>
<td><code>list of str</code></td>
<td>
<p>list of string to limit the recursive tree-building to
what is specified.</p>
</td>
<td><code>None</code></td>
</tr>
<tr>
<td><code>build_tree</code></td>
<td><code>bool</code></td>
<td>
<p>auto-build the tree or not.</p>
</td>
<td><code>True</code></td>
</tr>
<tr>
<td><code>build_dependencies</code></td>
<td><code>bool</code></td>
<td>
<p>auto-build the dependencies or not.</p>
</td>
<td><code>True</code></td>
</tr>
<tr>
<td><code>enforce_init</code></td>
<td><code>bool</code></td>
<td>
<p>if True, only treat directories if they contain an
<code>__init__.py</code> file.</p>
</td>
<td><code>True</code></td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>dependenpy/dsm.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">name</span><span class="p">,</span>
    <span class="n">path</span><span class="p">,</span>
    <span class="n">dsm</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">package</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">limit_to</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">build_tree</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">build_dependencies</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">enforce_init</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Initialization method.</span>

<span class="sd">    Args:</span>
<span class="sd">        name (str): name of the package.</span>
<span class="sd">        path (str): path to the package.</span>
<span class="sd">        dsm (DSM): parent DSM.</span>
<span class="sd">        package (Package): parent package.</span>
<span class="sd">        limit_to (list of str):</span>
<span class="sd">            list of string to limit the recursive tree-building to</span>
<span class="sd">            what is specified.</span>
<span class="sd">        build_tree (bool): auto-build the tree or not.</span>
<span class="sd">        build_dependencies (bool): auto-build the dependencies or not.</span>
<span class="sd">        enforce_init (bool):</span>
<span class="sd">            if True, only treat directories if they contain an</span>
<span class="sd">            ``__init__.py`` file.</span>
<span class="sd">    """</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">path</span> <span class="o">=</span> <span class="n">path</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">package</span> <span class="o">=</span> <span class="n">package</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">dsm</span> <span class="o">=</span> <span class="n">dsm</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">limit_to</span> <span class="o">=</span> <span class="n">limit_to</span> <span class="ow">or</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">enforce_init</span> <span class="o">=</span> <span class="n">enforce_init</span>

    <span class="n">RootNode</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">build_tree</span><span class="p">)</span>
    <span class="n">LeafNode</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">build_tree</span> <span class="ow">and</span> <span class="n">build_dependencies</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">build_dependencies</span><span class="p">()</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="dependenpy.dsm.Package.build_tree">
<code class="highlight language-python">
build_tree<span class="p">(</span><span class="bp">self</span><span class="p">)</span> </code>
<a class="headerlink" href="#dependenpy.dsm.Package.build_tree" title="Permanent link">¤</a></h3>
<div class="doc doc-contents">
<p>Build the tree for this package.</p>
<details class="quote">
<summary>Source code in <code>dependenpy/dsm.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">build_tree</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">"""Build the tree for this package."""</span>
    <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">listdir</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="p">):</span>
        <span class="n">abs_m</span> <span class="o">=</span> <span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="n">m</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">isfile</span><span class="p">(</span><span class="n">abs_m</span><span class="p">)</span> <span class="ow">and</span> <span class="n">m</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">".py"</span><span class="p">):</span>
            <span class="n">name</span> <span class="o">=</span> <span class="n">splitext</span><span class="p">(</span><span class="n">m</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">limit_to</span> <span class="ow">or</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">limit_to</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">modules</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Module</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">abs_m</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dsm</span><span class="p">,</span> <span class="bp">self</span><span class="p">))</span>
        <span class="k">elif</span> <span class="n">isdir</span><span class="p">(</span><span class="n">abs_m</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">isfile</span><span class="p">(</span><span class="n">join</span><span class="p">(</span><span class="n">abs_m</span><span class="p">,</span> <span class="s2">"__init__.py"</span><span class="p">))</span> <span class="ow">or</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">enforce_init</span><span class="p">:</span>
                <span class="n">heads</span><span class="p">,</span> <span class="n">new_limit_to</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">split_limits_heads</span><span class="p">()</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">heads</span> <span class="ow">or</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">heads</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">packages</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                        <span class="n">Package</span><span class="p">(</span>
                            <span class="n">m</span><span class="p">,</span>
                            <span class="n">abs_m</span><span class="p">,</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">dsm</span><span class="p">,</span>
                            <span class="bp">self</span><span class="p">,</span>
                            <span class="n">new_limit_to</span><span class="p">,</span>
                            <span class="n">build_tree</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                            <span class="n">build_dependencies</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                            <span class="n">enforce_init</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">enforce_init</span><span class="p">,</span>
                        <span class="p">)</span>
                    <span class="p">)</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="dependenpy.dsm.Package.cardinal">
<code class="highlight language-python">
cardinal<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">to</span><span class="p">)</span> </code>
<a class="headerlink" href="#dependenpy.dsm.Package.cardinal" title="Permanent link">¤</a></h3>
<div class="doc doc-contents">
<p>Return the number of dependencies of this package to the given node.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>to</code></td>
<td><code>Package/Module</code></td>
<td>
<p>target node.</p>
</td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>int</code></td>
<td>
<p>number of dependencies.</p>
</td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>dependenpy/dsm.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>216
217
218
219
220
221
222
223
224
225
226</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">cardinal</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">to</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Return the number of dependencies of this package to the given node.</span>

<span class="sd">    Args:</span>
<span class="sd">        to (Package/Module): target node.</span>

<span class="sd">    Returns:</span>
<span class="sd">        int: number of dependencies.</span>
<span class="sd">    """</span>
    <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">cardinal</span><span class="p">(</span><span class="n">to</span><span class="p">)</span> <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">submodules</span><span class="p">)</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="dependenpy.dsm.Package.split_limits_heads">
<code class="highlight language-python">
split_limits_heads<span class="p">(</span><span class="bp">self</span><span class="p">)</span> </code>
<a class="headerlink" href="#dependenpy.dsm.Package.split_limits_heads" title="Permanent link">¤</a></h3>
<div class="doc doc-contents">
<p>Return first parts of dot-separated strings, and rest of strings.</p>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>(list of str, list of str)</code></td>
<td>
<p>the heads and rest of the strings.</p>
</td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>dependenpy/dsm.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">split_limits_heads</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Return first parts of dot-separated strings, and rest of strings.</span>

<span class="sd">    Returns:</span>
<span class="sd">        (list of str, list of str): the heads and rest of the strings.</span>
<span class="sd">    """</span>
    <span class="n">heads</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">new_limit_to</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">limit</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">limit_to</span><span class="p">:</span>
        <span class="k">if</span> <span class="s2">"."</span> <span class="ow">in</span> <span class="n">limit</span><span class="p">:</span>
            <span class="n">name</span><span class="p">,</span> <span class="n">limit</span> <span class="o">=</span> <span class="n">limit</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">"."</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
            <span class="n">heads</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
            <span class="n">new_limit_to</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">limit</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">heads</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">limit</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">heads</span><span class="p">,</span> <span class="n">new_limit_to</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-nav">
<nav aria-label="Footer" class="md-footer-nav__inner md-grid">
<a class="md-footer-nav__link md-footer-nav__link--prev" href="../cli/" rel="prev" title="cli.py">
<div class="md-footer-nav__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</div>
<div class="md-footer-nav__title">
<div class="md-ellipsis">
<span class="md-footer-nav__direction">
                  Previous
                </span>
                cli.py
              </div>
</div>
</a>
<a class="md-footer-nav__link md-footer-nav__link--next" href="../finder/" rel="next" title="finder.py">
<div class="md-footer-nav__title">
<div class="md-ellipsis">
<span class="md-footer-nav__direction">
                  Next
                </span>
                finder.py
              </div>
</div>
<div class="md-footer-nav__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"></path></svg>
</div>
</a>
</nav>
</div>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
          Material for MkDocs
        </a>
</div>
</div>
</div>
</footer>
</div>
<script src="../../assets/javascripts/vendor.3636a4ec.min.js"></script>
<script src="../../assets/javascripts/bundle.e9fe3281.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
<script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
</body>
</html>